<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MANTIS: mos/kernel/micro/include/msched.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.3-20050530 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">mos</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000007.html">kernel</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000015.html">micro</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000016.html">include</a></div>
<h1>msched.h File Reference</h1>Generic scheduler functions common across all platforms. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="msp430_2include_2plat__dep_8h-source.html">plat_dep.h</a>&quot;</code><br>

<p>
<a href="msched_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structthread__s.html">thread_s</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thread structure definition.  <a href="structthread__s.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a0">MAX_THREADS</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum number of allowed threads.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a1">IDLE_STACK_SIZE</a>&nbsp;&nbsp;&nbsp;128</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size of stack for initial/idle thread.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a2">START_STACK_SIZE</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size of stack for start thread.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a3">MSECS_PER_SLEEP_TICK</a>&nbsp;&nbsp;&nbsp;31</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The msec period of a single prescaled sleep clock tick.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a4">SLEEP_TICK_OVERFLOW</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSECS_PER_SLEEP_TICK should really be 31.25 Divide your number by SLEEP_TICK_OVERFLOW and add it to the result for more precise math.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a5">MSECS_MAX_SLEEP</a>&nbsp;&nbsp;&nbsp;8000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The msec period of the maximum sleep time (256 * 32).  <a href="#a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a6">STACK_MIN</a>&nbsp;&nbsp;&nbsp;PLAT_STACK_MIN</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Minimum stack size.  <a href="#a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a7">STACK_SMALL</a>&nbsp;&nbsp;&nbsp;STACK_MIN * 2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Small stack size.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a8">STACK_MEDIUM</a>&nbsp;&nbsp;&nbsp;STACK_MIN * 3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Medium stack size.  <a href="#a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a9">STACK_LARGE</a>&nbsp;&nbsp;&nbsp;STACK_MIN * 4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Large stack size.  <a href="#a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a10">HEAP_TOP</a>&nbsp;&nbsp;&nbsp;(MEMORY_SIZE - IDLE_STACK_SIZE)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Address just past top of heap.  <a href="#a10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a11">THREAD_OK</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thread returns ok.  <a href="#a11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a12">NO_MORE_THREADS</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thread manager has no more threads left.  <a href="#a12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a13">NO_MORE_MEMORY</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thread manager has run out of memory.  <a href="#a13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a14">mos_thread_set_suspend_state</a>(state)&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a>-&gt;suspend_state = state</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the suspend state of the current running thread this is the minimum sleep state allowed by the active thread.  <a href="#a14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a15">mos_thread_get_suspend_state</a>()&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a>-&gt;suspend_state</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the suspend state of the current running thread.  <a href="#a15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a16">mos_thread_get_port</a>()&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a>-&gt;port</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the port the current thread will block on.  <a href="#a16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a17">mos_thread_set_port</a>(port)&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a>-&gt;port = port</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the port the current thread is blocked on.  <a href="#a17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a18">mos_thread_suspend</a>()&nbsp;&nbsp;&nbsp;mos_thread_suspend_state (SUSPEND_STATE_IDLE);</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Block the currently running thread.  <a href="#a18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a19">mos_thread_current</a>()&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the currently executing thread.  <a href="#a19"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structthread__s.html">thread_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a20">thread_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thread structure definition.  <a href="#a20"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<a class="el" href="msched_8h.html#a49a22">EMPTY</a> =  0, 
<a class="el" href="msched_8h.html#a49a23">RUNNING</a>, 
<a class="el" href="msched_8h.html#a49a24">READY</a>, 
<a class="el" href="msched_8h.html#a49a25">BLOCKED</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="msched_8h.html#a49a26">SLEEPING</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thread states.  <a href="msched_8h.html#a49">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <br>
&nbsp;&nbsp;<a class="el" href="msched_8h.html#a50a27">PRIORITY_KERNEL</a> =  0, 
<a class="el" href="msched_8h.html#a50a28">PRIORITY_SLEEP</a>, 
<a class="el" href="msched_8h.html#a50a29">PRIORITY_HIGH</a>, 
<a class="el" href="msched_8h.html#a50a30">PRIORITY_NORMAL</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="msched_8h.html#a50a31">PRIORITY_IDLE</a>, 
<a class="el" href="msched_8h.html#a50a32">NUM_PRIORITIES</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thread priorities.  <a href="msched_8h.html#a50">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="msched_8h.html#a51a33">SUSPEND_STATE_IDLE</a> =  0, 
<a class="el" href="msched_8h.html#a51a34">SUSPEND_STATE_SLEEP</a>, 
<a class="el" href="msched_8h.html#a51a35">SUSPEND_STATE_MAX</a>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Suspend states.  <a href="msched_8h.html#a51">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a36">sched_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Init the scheduler.  <a href="#a36"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a37">mos_sched_start</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start scheduling threads.  <a href="#a37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a38">mos_thread_new</a> (void(*function_start)(void), uint16_t stack_size, uint8_t priority)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the time slice size used by the scheduler. Create a new thread and put it on the ready queue.  <a href="#a38"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a39">mos_thread_new_havestack</a> (void(*function_start)(void), uint16_t stack_size, <a class="el" href="msp430_2include_2plat__dep_8h.html#a34">stackval_t</a> *stack_addr, uint8_t priority)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new thread with the given stack and put it on the ready queue.  <a href="#a39"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a40">mos_thread_exit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Terminate the calling thread.  <a href="#a40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a41">mos_thread_suspend_state</a> (uint8_t state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Suspend to a specific state.  <a href="#a41"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a42">mos_thread_suspend_noints</a> (<a class="el" href="msp430_2include_2plat__dep_8h.html#a35">handle_t</a> int_handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a43">mos_thread_resume</a> (<a class="el" href="structthread__s.html">thread_t</a> *thread)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resume a blocked thread.  <a href="#a43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a44">mos_thread_resume_noints</a> (<a class="el" href="structthread__s.html">thread_t</a> *thread, <a class="el" href="msp430_2include_2plat__dep_8h.html#a35">handle_t</a> int_handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a45">mos_thread_sleep</a> (uint32_t sleeptime)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put the currently running thread to sleep. Units are in ms Minimum sleeptime is 128 ms (will be promoted).  <a href="#a45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a46">mos_single_threaded</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put the kernel in single-threaded operation mode.  <a href="#a46"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a47">mos_multi_threaded</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put the kernel in multi-threaded operation mode.  <a href="#a47"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a48">start</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable interrupts if we are not nested in another disable_ints call. Disable interrupts.  <a href="#a48"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structthread__s.html">thread_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="msched_8h.html#a21">_current_thread</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Generic scheduler functions common across all platforms. 
<p>

<p>
Definition in file <a class="el" href="msched_8h-source.html">msched.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="a10"></a><!-- doxytag: member="msched.h::HEAP_TOP" ref="a10" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define HEAP_TOP&nbsp;&nbsp;&nbsp;(MEMORY_SIZE - IDLE_STACK_SIZE)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Address just past top of heap. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00063">63</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member="msched.h::IDLE_STACK_SIZE" ref="a1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define IDLE_STACK_SIZE&nbsp;&nbsp;&nbsp;128          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Size of stack for initial/idle thread. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00040">40</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0"></a><!-- doxytag: member="msched.h::MAX_THREADS" ref="a0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MAX_THREADS&nbsp;&nbsp;&nbsp;6          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Maximum number of allowed threads. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00037">37</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a19"></a><!-- doxytag: member="msched.h::mos_thread_current" ref="a19" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define mos_thread_current          </td>
          <td class="md" valign="top">(&nbsp;</td>
&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get a pointer to the currently executing thread. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Currently running thread</dd></dl>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00215">215</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16"></a><!-- doxytag: member="msched.h::mos_thread_get_port" ref="a16" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define mos_thread_get_port          </td>
          <td class="md" valign="top">(&nbsp;</td>
&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a>-&gt;port</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the port the current thread will block on. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00184">184</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15"></a><!-- doxytag: member="msched.h::mos_thread_get_suspend_state" ref="a15" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define mos_thread_get_suspend_state          </td>
          <td class="md" valign="top">(&nbsp;</td>
&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a>-&gt;suspend_state</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the suspend state of the current running thread. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00180">180</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17"></a><!-- doxytag: member="msched.h::mos_thread_set_port" ref="a17" args="(port)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define mos_thread_set_port          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">port&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a>-&gt;port = port</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the port the current thread is blocked on. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00188">188</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14"></a><!-- doxytag: member="msched.h::mos_thread_set_suspend_state" ref="a14" args="(state)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define mos_thread_set_suspend_state          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">state&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;<a class="el" href="msched_8h.html#a21">_current_thread</a>-&gt;suspend_state = state</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the suspend state of the current running thread this is the minimum sleep state allowed by the active thread. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00175">175</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18"></a><!-- doxytag: member="msched.h::mos_thread_suspend" ref="a18" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define mos_thread_suspend          </td>
          <td class="md" valign="top">(&nbsp;</td>
&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;mos_thread_suspend_state (SUSPEND_STATE_IDLE);</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Block the currently running thread. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00197">197</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5"></a><!-- doxytag: member="msched.h::MSECS_MAX_SLEEP" ref="a5" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MSECS_MAX_SLEEP&nbsp;&nbsp;&nbsp;8000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The msec period of the maximum sleep time (256 * 32). 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00051">51</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3"></a><!-- doxytag: member="msched.h::MSECS_PER_SLEEP_TICK" ref="a3" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MSECS_PER_SLEEP_TICK&nbsp;&nbsp;&nbsp;31          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The msec period of a single prescaled sleep clock tick. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00045">45</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13"></a><!-- doxytag: member="msched.h::NO_MORE_MEMORY" ref="a13" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define NO_MORE_MEMORY&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Thread manager has run out of memory. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00096">96</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12"></a><!-- doxytag: member="msched.h::NO_MORE_THREADS" ref="a12" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define NO_MORE_THREADS&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Thread manager has no more threads left. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00094">94</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4"></a><!-- doxytag: member="msched.h::SLEEP_TICK_OVERFLOW" ref="a4" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define SLEEP_TICK_OVERFLOW&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MSECS_PER_SLEEP_TICK should really be 31.25 Divide your number by SLEEP_TICK_OVERFLOW and add it to the result for more precise math. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00049">49</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9"></a><!-- doxytag: member="msched.h::STACK_LARGE" ref="a9" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define STACK_LARGE&nbsp;&nbsp;&nbsp;STACK_MIN * 4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Large stack size. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00060">60</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8"></a><!-- doxytag: member="msched.h::STACK_MEDIUM" ref="a8" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define STACK_MEDIUM&nbsp;&nbsp;&nbsp;STACK_MIN * 3          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Medium stack size. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00058">58</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6"></a><!-- doxytag: member="msched.h::STACK_MIN" ref="a6" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define STACK_MIN&nbsp;&nbsp;&nbsp;PLAT_STACK_MIN          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Minimum stack size. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00054">54</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7"></a><!-- doxytag: member="msched.h::STACK_SMALL" ref="a7" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define STACK_SMALL&nbsp;&nbsp;&nbsp;STACK_MIN * 2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Small stack size. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00056">56</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2"></a><!-- doxytag: member="msched.h::START_STACK_SIZE" ref="a2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define START_STACK_SIZE&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Size of stack for start thread. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00042">42</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11"></a><!-- doxytag: member="msched.h::THREAD_OK" ref="a11" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define THREAD_OK&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Thread returns ok. 
<p>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00092">92</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a20"></a><!-- doxytag: member="msched.h::thread_t" ref="a20" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef struct <a class="el" href="structthread__s.html">thread_s</a>  <a class="el" href="structthread__s.html">thread_t</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Thread structure definition. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="a49"></a><!-- doxytag: member="msched.h::@0" ref="a49" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">anonymous enum          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Thread states. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a49a22"></a><!-- doxytag: member="EMPTY" ref="a49a22" args="" -->EMPTY</em>&nbsp;</td><td>
Empty thread state. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a49a23"></a><!-- doxytag: member="RUNNING" ref="a49a23" args="" -->RUNNING</em>&nbsp;</td><td>
Running thread state. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a49a24"></a><!-- doxytag: member="READY" ref="a49a24" args="" -->READY</em>&nbsp;</td><td>
Ready thread state. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a49a25"></a><!-- doxytag: member="BLOCKED" ref="a49a25" args="" -->BLOCKED</em>&nbsp;</td><td>
Blocked thread state. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a49a26"></a><!-- doxytag: member="SLEEPING" ref="a49a26" args="" -->SLEEPING</em>&nbsp;</td><td>
Sleeping thread state. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00023">23</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.<div class="fragment"><pre class="fragment"><a name="l00023"></a>00023      {
<a name="l00025"></a>00025    <a class="code" href="msched_8h.html#a49a22">EMPTY</a> = 0,
<a name="l00027"></a>00027    <a class="code" href="msched_8h.html#a49a23">RUNNING</a>,
<a name="l00029"></a>00029    <a class="code" href="msched_8h.html#a49a24">READY</a>,
<a name="l00031"></a>00031    <a class="code" href="msched_8h.html#a49a25">BLOCKED</a>,
<a name="l00033"></a>00033    <a class="code" href="msched_8h.html#a49a26">SLEEPING</a>
<a name="l00034"></a>00034 };
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a50"></a><!-- doxytag: member="msched.h::@1" ref="a50" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">anonymous enum          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Thread priorities. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a50a27"></a><!-- doxytag: member="PRIORITY_KERNEL" ref="a50a27" args="" -->PRIORITY_KERNEL</em>&nbsp;</td><td>
Kernel level priority. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a50a28"></a><!-- doxytag: member="PRIORITY_SLEEP" ref="a50a28" args="" -->PRIORITY_SLEEP</em>&nbsp;</td><td>
Sleep level priority. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a50a29"></a><!-- doxytag: member="PRIORITY_HIGH" ref="a50a29" args="" -->PRIORITY_HIGH</em>&nbsp;</td><td>
High level priority, pre-empts everything. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a50a30"></a><!-- doxytag: member="PRIORITY_NORMAL" ref="a50a30" args="" -->PRIORITY_NORMAL</em>&nbsp;</td><td>
Normal level priority. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a50a31"></a><!-- doxytag: member="PRIORITY_IDLE" ref="a50a31" args="" -->PRIORITY_IDLE</em>&nbsp;</td><td>
Idle priority. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a50a32"></a><!-- doxytag: member="NUM_PRIORITIES" ref="a50a32" args="" -->NUM_PRIORITIES</em>&nbsp;</td><td>
Total number of priorities. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00066">66</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.<div class="fragment"><pre class="fragment"><a name="l00066"></a>00066      {
<a name="l00068"></a>00068    <a class="code" href="msched_8h.html#a50a27">PRIORITY_KERNEL</a> = 0,
<a name="l00070"></a>00070    <a class="code" href="msched_8h.html#a50a28">PRIORITY_SLEEP</a>,
<a name="l00072"></a>00072    <a class="code" href="msched_8h.html#a50a29">PRIORITY_HIGH</a>,
<a name="l00074"></a>00074    <a class="code" href="msched_8h.html#a50a30">PRIORITY_NORMAL</a>,
<a name="l00076"></a>00076    <a class="code" href="msched_8h.html#a50a31">PRIORITY_IDLE</a>,
<a name="l00078"></a>00078    <a class="code" href="msched_8h.html#a50a32">NUM_PRIORITIES</a>
<a name="l00079"></a>00079 };
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a51"></a><!-- doxytag: member="msched.h::@2" ref="a51" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">anonymous enum          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Suspend states. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a51a33"></a><!-- doxytag: member="SUSPEND_STATE_IDLE" ref="a51a33" args="" -->SUSPEND_STATE_IDLE</em>&nbsp;</td><td>
Thread is not waiting on interrupts, ok to sleep. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a51a34"></a><!-- doxytag: member="SUSPEND_STATE_SLEEP" ref="a51a34" args="" -->SUSPEND_STATE_SLEEP</em>&nbsp;</td><td>
Thread needs an interrupt, do not sleep. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a51a35"></a><!-- doxytag: member="SUSPEND_STATE_MAX" ref="a51a35" args="" -->SUSPEND_STATE_MAX</em>&nbsp;</td><td>
Total number of suspend states. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="msched_8h-source.html#l00082">82</a> of file <a class="el" href="msched_8h-source.html">msched.h</a>.<div class="fragment"><pre class="fragment"><a name="l00082"></a>00082      {
<a name="l00084"></a>00084    <a class="code" href="msched_8h.html#a51a33">SUSPEND_STATE_IDLE</a> = 0,
<a name="l00086"></a>00086    <a class="code" href="msched_8h.html#a51a34">SUSPEND_STATE_SLEEP</a>,
<a name="l00088"></a>00088    <a class="code" href="msched_8h.html#a51a35">SUSPEND_STATE_MAX</a>
<a name="l00089"></a>00089 };
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a47"></a><!-- doxytag: member="msched.h::mos_multi_threaded" ref="a47" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mos_multi_threaded           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Put the kernel in multi-threaded operation mode. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a37"></a><!-- doxytag: member="msched.h::mos_sched_start" ref="a37" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mos_sched_start           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Start scheduling threads. 
<p>
Must add thread(s) before calling start. (NOTE: This function never returns.)    </td>
  </tr>
</table>
<a class="anchor" name="a46"></a><!-- doxytag: member="msched.h::mos_single_threaded" ref="a46" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mos_single_threaded           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Put the kernel in single-threaded operation mode. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a40"></a><!-- doxytag: member="msched.h::mos_thread_exit" ref="a40" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mos_thread_exit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Terminate the calling thread. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a38"></a><!-- doxytag: member="msched.h::mos_thread_new" ref="a38" args="(void(*function_start)(void), uint16_t stack_size, uint8_t priority)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">uint8_t mos_thread_new           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void(*)(void)&nbsp;</td>
          <td class="mdname" nowrap> <em>function_start</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint16_t&nbsp;</td>
          <td class="mdname" nowrap> <em>stack_size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint8_t&nbsp;</td>
          <td class="mdname" nowrap> <em>priority</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Change the time slice size used by the scheduler. Create a new thread and put it on the ready queue. 
<p>
Note: There is no memory protection so watch your stack sizes. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>function_start</em>&nbsp;</td><td>Pointer to function to call on thread start </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stack_size</em>&nbsp;</td><td>Stack space to give the thread </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>Priority of the thread </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>THREAD_OK, NO_MORE_THREADS, NO_MORE_MEMORY</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a39"></a><!-- doxytag: member="msched.h::mos_thread_new_havestack" ref="a39" args="(void(*function_start)(void), uint16_t stack_size, stackval_t *stack_addr, uint8_t priority)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">uint8_t mos_thread_new_havestack           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void(*)(void)&nbsp;</td>
          <td class="mdname" nowrap> <em>function_start</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint16_t&nbsp;</td>
          <td class="mdname" nowrap> <em>stack_size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="msp430_2include_2plat__dep_8h.html#a34">stackval_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>stack_addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>uint8_t&nbsp;</td>
          <td class="mdname" nowrap> <em>priority</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new thread with the given stack and put it on the ready queue. 
<p>
Note: There is no memory protection so watch your stack sizes. Also, this thread should not exit, or the memory allocator will try to free the stack. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>function_start</em>&nbsp;</td><td>Pointer to function to call on thread start </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stack_size</em>&nbsp;</td><td>Size of the thread's stack </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stack_addr</em>&nbsp;</td><td>Stack space that you have already allocated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>Priority of the thread </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>THREAD_OK, NO_MORE_THREADS, NO_MORE_MEMORY</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a43"></a><!-- doxytag: member="msched.h::mos_thread_resume" ref="a43" args="(thread_t *thread)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mos_thread_resume           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structthread__s.html">thread_t</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>thread</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Resume a blocked thread. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>thread</em>&nbsp;</td><td>Thread to resume</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a44"></a><!-- doxytag: member="msched.h::mos_thread_resume_noints" ref="a44" args="(thread_t *thread, handle_t int_handle)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mos_thread_resume_noints           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structthread__s.html">thread_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>thread</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="msp430_2include_2plat__dep_8h.html#a35">handle_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>int_handle</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a45"></a><!-- doxytag: member="msched.h::mos_thread_sleep" ref="a45" args="(uint32_t sleeptime)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mos_thread_sleep           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint32_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sleeptime</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Put the currently running thread to sleep. Units are in ms Minimum sleeptime is 128 ms (will be promoted). 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a42"></a><!-- doxytag: member="msched.h::mos_thread_suspend_noints" ref="a42" args="(handle_t int_handle)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mos_thread_suspend_noints           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="msp430_2include_2plat__dep_8h.html#a35">handle_t</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>int_handle</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a41"></a><!-- doxytag: member="msched.h::mos_thread_suspend_state" ref="a41" args="(uint8_t state)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void mos_thread_suspend_state           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">uint8_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>state</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Suspend to a specific state. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>the state to suspend to</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a36"></a><!-- doxytag: member="msched.h::sched_init" ref="a36" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void sched_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Init the scheduler. 
<p>
Must call this before adding any threads.    </td>
  </tr>
</table>
<a class="anchor" name="a48"></a><!-- doxytag: member="msched.h::start" ref="a48" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void start           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable interrupts if we are not nested in another disable_ints call. Disable interrupts. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Interrupt handle (use with mos_enable_ints)</dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a21"></a><!-- doxytag: member="msched.h::_current_thread" ref="a21" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structthread__s.html">thread_t</a>* <a class="el" href="msched_8h.html#a21">_current_thread</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jul 27 17:00:36 2005 for MANTIS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.3-20050530 </small></address>
</body>
</html>
